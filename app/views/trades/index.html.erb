<h1>Your Trade Requests</h1>

<h2>Sent</h2>
<% if @sent_trades.length == 0 %>
  <p>No trade requests here</p>
<% else %>
  <table>
    <thead>
      <tr>
        <th>Recipient</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @sent_trades.each do |trade| %>
        <tr>
          <td><%= User.find(trade.recipient_id).email %></td>
          <td><%= link_to 'Show', trade %></td>
          <td><%= link_to 'Cancel', trade, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>

<h2>Recieved</h2>
<% if @recieved_trades.length == 0 %>
  <p>No trade requests here</p>
<% else %>
  <table>
    <thead>
    <tr>
      <th>Sender</th>
      <th colspan="3"></th>
    </tr>
    </thead>

    <tbody>
    <% @recieved_trades.each do |trade| %>
      <tr>
        <td><%= User.find(trade.sender_id).email %></td>
        <td><%= link_to 'Show', trade %></td>
        <td><%= link_to 'Reject', trade, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
    </tbody>
  </table>
<% end %>
<br>
<%= link_to "Back to Home", root_path %>
